第一题 按照题意模拟就可以了

第二题 令dp(i,j)表示i节点的子树中label为j的节点数量 dfs的时候转移就行

第三题 预处理出所有满足题意的子串（不超过26个），按照长度从小到大贪心选

第四题 枚举右端点 二分找到绝对值最小的那个左端点